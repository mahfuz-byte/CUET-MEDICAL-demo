<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Doctors | CUET Medical Center</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header class="site-header" role="banner">
    <div class="container">
      <div class="branding">
        <a class="logo" href="index.html">CUET Medical Center</a>
      </div>
      <button id="menuToggle" class="menu-toggle" aria-label="Toggle navigation" aria-controls="topNav" aria-expanded="false">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
      <nav id="topNav" class="top-nav" aria-label="Primary">
        <a href="about.html" class="nav-link">About</a>
        <a href="services.html" class="nav-link">Services</a>
        <a href="doctors.html" class="nav-link">Doctors</a>
        <a href="emergency.html" class="nav-link">Emergency</a>
        <a href="contact.html" class="nav-link">Contact</a>
        <a href="login.html" class="btn btn-primary">Login</a>
      </nav>
    </div>
  </header>

  <main id="main" class="container">
    <h1>Doctors</h1>
    <p>Consultant physicians serving the CUET community. Schedules are subject to change.</p>

    <section class="panel">
      <form class="form-inline" id="doc-filter">
        <select id="dept-select">
          <option value="">All Departments</option>
          <option>General Medicine</option>
          <option>Emergency Medicine</option>
          <option>Community Health</option>
        </select>
        <input type="text" id="doc-search" placeholder="Search by name">
        <button class="btn" type="submit">Filter</button>
      </form>
      <div id="doctors-list" class="list" aria-live="polite"></div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-branding">
          <a href="index.html" class="logo">CUET Medical Center</a>
          <p class="muted">Unified health services for the CUET campus community.</p>
        </div>
        <div class="footer-col">
          <h3>Quick Links</h3>
          <ul class="footer-links">
            <li><a href="about.html">About</a></li>
            <li><a href="services.html">Services</a></li>
            <li><a href="doctors.html">Doctors</a></li>
            <li><a href="emergency.html">Emergency</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h3>Resources</h3>
          <ul class="footer-links">
            <li><a href="notices.html">Notices</a></li>
            <li><a href="alerts.html">System Status</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h3>Contact</h3>
          <ul class="footer-list">
            <li class="muted">CUET Campus, Chittagong</li>
            <li class="muted">Phone: +880-XXX-XXXX</li>
            <li class="muted">Email: medical@cuet.edu</li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <small>© 2026 CUET Campus Medical Center</small>
        <nav class="footer-legal">
          <a href="#">Privacy</a>
          <a href="#">Terms</a>
          <a href="alerts.html">Status</a>
        </nav>
      </div>
    </div>
  </footer>

  <script src="assets/js/app.js"></script>
  <script>
    (function(){
      const list = document.getElementById('doctors-list');
      const form = document.getElementById('doc-filter');
      let data = [];
      function render(){
        const dept = (document.getElementById('dept-select').value || '').toLowerCase();
        const q = (document.getElementById('doc-search').value || '').toLowerCase().trim();
        const filtered = data.filter(d => {
          const t = (d.name+' '+d.dept+' '+d.title+' '+d.hours+' '+(d.bio||'')).toLowerCase();
          const okDept = !dept || (d.dept||'').toLowerCase().includes(dept);
          const okQ = !q || t.includes(q);
          return okDept && okQ;
        });
        list.innerHTML = filtered.length ? filtered.map(d => `
          <div class="item">
            <div class="item-title">${d.name} — ${d.dept||''}</div>
            <div class="item-meta">${d.title||''} | ${d.hours||''}</div>
            <div>${d.bio||''}</div>
          </div>`).join('') : '<div class="item">Nothing found.</div>';
      }
      list.setAttribute('aria-busy', 'true');
      list.innerHTML = '<div class="item skeleton" style="height:48px;"></div><div class="item skeleton" style="height:48px;"></div>';
      fetch('assets/data/roster.json')
        .then(r => { if (!r.ok) throw new Error('HTTP '+r.status); return r.json(); })
        .then(json => { data = json.doctors || []; render(); })
        .catch(() => { list.innerHTML = '<div class="item">Failed to load doctors.</div>'; })
        .finally(() => { list.removeAttribute('aria-busy'); });
      form.addEventListener('submit', e => { e.preventDefault(); render(); });
    })();
  </script>
</body>
</html>